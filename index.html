<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Google Trends · 足球分类 (Google购物)</title>
  <style>
    body{margin:0;padding:10px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#fafafa;color:#222}
    h1{font-size:clamp(16px,2.2vw,20px);margin:0 0 8px;line-height:1.3}
    
    /* ▼▼▼【新增样式】▼▼▼ */
    /* 为第二行（副标题）添加样式 */
    .subtitle {
      font-size: 0.8em; /* 字体稍小一些 */
      color: #666;     /* 颜色稍浅一些 */
      font-weight: 500; /* 字重稍细一些 */
    }
    /* ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲ */

    #panel{width:100%}
    #panel iframe{
      width:100% !important;
      height:clamp(320px,72vh,760px) !important;
      border:0;display:block
    }
  </style>
</head>
<body>
  <h1 id="title">加载中…</h1>
  <div id="panel"></div>

  <script src="https://ssl.gstatic.com/trends_nrtr/4215_RC01/embed_loader.js"></script>
  <script>
    const qs      = new URLSearchParams(location.search);
    const geo     = (qs.get("geo")  || "US").trim();
    const date    = (qs.get("date") || "now 7-d").trim();
    const hl      = (qs.get("hl")   || "zh-CN").trim();
    const h       = qs.get("h");
    const compact = qs.get("compact")==="1";

    const CAT = 294;
    const GPROP = "froogle";

    const dateLabel = ({
      "now 1-H":"近 1 小时","now 4-H":"近 4 小时","now 1-d":"近 1 天",
      "now 7-d":"近 7 天","today 1-m":"近 1 个月","today 3-m":"近 3 个月",
      "today 12-m":"近 12 个月","all":"全部时间"
    })[date] || date;

    const d = new Date();
    const todayStr = `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;

    const titleEl = document.getElementById("title");

    // ▼▼▼【核心修改点】▼▼▼
    // 使用 innerHTML 来插入带有换行符(<br>)和样式的标题
    const mainTitle = `${geo} ${dateLabel} 足球分类 ${todayStr}`;
    const subTitle = "Google购物";
    titleEl.innerHTML = `${mainTitle}<br><span class="subtitle">${subTitle}</span>`;
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲

    if (compact) titleEl.style.display = "none";
    
    const exploreQuery =
      `cat=${CAT}&date=${encodeURIComponent(date)}&geo=${encodeURIComponent(geo)}&hl=${encodeURIComponent(hl)}&gprop=${GPROP}`;

    trends.embed.renderExploreWidget(
      "RELATED_QUERIES",
      { "comparisonItem":[{ "geo": geo, "time": date }], "category": CAT, "property": GPROP },
      { "exploreQuery": exploreQuery, "guestPath": "https://trends.google.com/trends/embed/" },
      document.getElementById("panel")
    );

    if (h) {
      const applyHeight = () => {
        const ifr = document.querySelector("#panel iframe");
        if (ifr) ifr.style.height = `${Math.max(220, Math.min(1200, parseInt(h,10)||0))}px`;
      };
      new MutationObserver((m,obs)=>{ applyHeight(); obs.disconnect(); })
        .observe(document.getElementById("panel"), {childList:true,subtree:true});
      window.addEventListener("resize", applyHeight);
    }
  </script>
</body>
</html>
